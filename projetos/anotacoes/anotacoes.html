<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Objeto em JS</title>
    <script src="anotacoes.js"></script>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <header>
        <h1>Anotações e testes das aulas</h1>
    </header>
    <main>
        <div>
            <h2>Criando um objeto</h2>
            <h2>Propriedades</h2>
                <ul>
                    <li>Propriedades com mais de uma palavra - não é muito utilizado, pois se prefere o <strong>camelCase</strong></li>
                    <li>Evitar acentuação gráfica, por estar tudo em inglês, no geral</li>
                </ul>
            <h2>Tipos de dados</h2>
                <ul>
                    <li>Todos os tipos, inclusive arrays.</li>
                </ul>
            <h2>Acessando propriedades por varíaveis</h2>
                <p><u>Exemplo:</u>
                    <pre>
                        <span>
                            let cavalo = {
                                patas: 4,
                                "está domesticado": false,
                                estaDomesticado: false,
                                n: 'agluma coisa'
                            }
                            const n = 'patas'
                            const m = 'está domesticado'
                            console.log(cavalo[n])
                            console.log(cavalo.n) //Esse é uma propriedade
                            console.log(cavalo['patas'])
                            console.log(cavalo[m])
                        </span>
                    </pre>
                </p>
            <h2>Criando métodos</h2>
                <p>Os métodos são ações dos objetos, sem limite, podendo resgatar propriedades ou modificar as mesmas.</p>
                <p><u>Exemplo:</u>
                    <pre>
                        <span>
                            let pessoa = {
                                nome: "Wagner",
                                falar: function() {
                                    console.log("Oi")
                                }
                            }
                            console.log(pessoa)
                            pessoa.falar()
                        </span>
                    </pre>
                </p>
            <h2>Objeto dentro de objetos</h2>
                <p>Por exemplo, um array associativo</p>
                <p><u>Exemplo:</u>
                    <pre>
                        <span>
                            let pessoa = {
                                nome: "Wagner",
                                idade: 29,
                                falar() {
                                    console.log("Oi")
                                },
                                aniversario(){
                                    this.idade+=1
                                },
                                dizerIdade(){
                                    console.log("A minha idade é "+ this.idade)
                                },
                                podeDirigir(){
                                    if(this.idade>=18){
                                        console.log("Pode dirigir")
                                    } else {
                                        console.log("Ainda não pode dirigir")
                                    }
                                },
                                caracteristicas: {
                                    cnh: true,
                                    carteira: ['dinheiro', 'documento', 'moeda']
                                }
                            }
                            console.log(pessoa.caracteristicas)
                            console.log(pessoa.caracteristicas.carteira[2])
                        </span>
                    </pre>
                </p>
            <h2>Criar propriedades e métodos para um objeto existente</h2>
                <p><u>Exemplo:</u>
                    <pre>
                        <span>
                            let carro = {
                                portas: 4,
                                cor: "Vermelha",
                                opcionais: ["teto solar","blindagem","ar condicionado"
                                ],
                                requisito: true
                            }
                            carro.tipo = 'SUV'
                            console.log(carro.tipo)
                            if(carro.tipo=='SUV'){
                                carro.tetosolar=true;
                            }
                            console.log(carro)
                            carro.acelerar = function(){
                                console.log('Acelenrando...')
                            }
                            carro.acelerar()
                        </span>
                    </pre>
                </p>
            <h2>Deletar propriedade</h2>
                <p>Use a propriedade 'delete', mas essa prática é equivocada, por criar comportamentos anormais, prejudicando a manutenção do código</p>
                <p><u>Exemplo:</u>
                    <pre>
                        <span>delete carro.ligar</span>
                    </pre>
                </p>
            <h2>This</h2>
                <p>A palavra <strong>this</strong> é utilizada para manter propriedades e métodos</p>
            <h2>Constructor</h2>
                <p>A constructor aceita parâmetros para o objeto e reaproveita o código</p>
                <p>A constructor é uma propriedade sempre criada junto com o objeto</p>
                <p><u>Exemplo:</u>
                    <pre>
                        <span>
                            let ninja2 = {
                                classe: 'profissional',
                                arma: 'kunai',
                                atirarArma (){
                                    console.log("Atirou a "+this.arma)
                                }
                            }
                            
                            ninja2.atirarArma()
                            
                            function Ninja(nome,arma){
                                this.nome=nome;
                                this.arma=arma;
                                this.atirarArma=function(){
                                    console.log("Atirou a "+this.arma)
                                }
                            }
                            
                            let Ninja0 = new Ninja('Naruto','shuriken');
                            console.log(Ninja0.nome)
                            let Ninja1 = new Ninja('Sasuke','kunai')
                            console.log(Ninja1.nome)
                            ninja2.atirarArma()
                        </span>
                    </pre>
                </p>
            <h2>Funções que retornam objetos</h2>
                <p>Semelhante ao constructor, mas sem necessidade de utilizar <strong>new</strong>, porque a função utiliza <strong>return</strong></p>
            <h2>Objeto Global</h2>
                <p>O this quando é usado fora de função ou propriedades fará referência ao window </p>
                <article>O let e const não inserem no escopo windows. Por outro lado, function e var aparecem na variável global.</article>
            <h2>Instanceof</h2>
                <p>Para descobrir quem é o pai do objeto, usar <strong>instanceof</strong></p>
            <h2>Referência de objeto</h2>
                <p>Ao atribuir uma variável a outra variável, ocorrerá a passagem de referência e, consequentemente, a alteração da segunda variável terá impacto na primeira, por conta da passagem dela como referência</p>
                <p><u>Exemplo:</u>
                    <pre>
                        <span>
                            let obj = {
                                numero: 1,
                            }
                            
                            console.log(obj.numero)
                            
                            let copia = obj
                            
                            console.log(copia.numero)
                            
                            copia.numero=5
                            
                            console.log(obj.numero)
                            console.log(copia.numero)
                        </span>
                    </pre>
                </p>
            <h2>Comparando objetos</h2>
                <p>Só é possível ter objetos iguais, a partir da comparação quando são referenciados dentro de outra varíavel, porque objetos criados pelo mesmo construtor, sempre serão diferentes</p>
            <h2>Object literals</h2>
                <p>ES6 (ECRASCRIPT2015) permite criar objetos mais rapidamente, porque é possível utilizar os nomes das variáveis como nomes das propriedades</p>
                <p>Também não é necessário declarar <strong>function:</strong>, por onta do ES6, igualmente, ocorre em outras linguagens orientadas ao objeto</p>
                <p>Também é possível criar propriedades com variáveis e retorno de funções, visando escrever menos código</p>
            <h2>Atributos das propriedades</h2>
                <p>Para saber se a propriedade é modificável, usar <strong>.getOwnPropertyDescriptor(objeto,'propriedade')</strong></p>
                <p><u>Exemplo:</u>
                    <pre>
                        <span>
                            let novaPessoaBonita={
                                nomeDaPessoa:'Wagner'
                            }
                            
                            console.log(Object.getOwnPropertyDescriptor(novaPessoaBonita,'nomeDaPessoa'))

                            {value: 'Wagner', writable: true, enumerable: true, configurable: true}
                            configurable: true
                            enumerable: true
                            value: "Wagner"
                            writable: true
                            [[Prototype]]: Object
                        </span>
                    </pre>
                </p>
            <h2>Copiando propriedades</h2>
                <p>O método <strong>.assign(objeto-filho,objeto-pai)</strong> faz com que o objeto filho herde os métodos e as propriedades do objeto pai.</p>
                <p>O objeto filho ao copiar os atributos e os métodos do objeto pai, se houver mesma assinatura, os atributos e métodos do pai prevaleceram sobre o filho</p>
                <p><u>Exemplo:</u>
                    <pre>
                        <span>
                            let novaPessoaBonita={
                                nomeDaPessoa:'Wagner',
                                getNomeDaPessoa(){
                                    console.log("Esse é o nome do objeto pai "+this.nomeDaPessoa)
                                }
                            }
                            console.log(Object.getOwnPropertyDescriptor(novaPessoaBonita,'nomeDaPessoa'))
                            let novaPessoaBonita2={
                                idade: 99,
                                nomeDaPessoa:'Teste'
                            }
                            Object.assign(novaPessoaBonita2,novaPessoaBonita)
                            console.log(novaPessoaBonita2)
                            novaPessoaBonita2.getNomeDaPessoa()
                            novaPessoaBonita2.nomeDaPessoa='Aline'
                            console.log(novaPessoaBonita2.nomeDaPessoa)
                            novaPessoaBonita2.nomeDaPessoa='Wagner'
                            console.log(novaPessoaBonita2.nomeDaPessoa===novaPessoaBonita.nomeDaPessoa) // esse compara um atributo/comportamento do objeto, por isso podem ser idênticos
                            console.log(novaPessoaBonita2===novaPessoaBonita) //esse compara o objeto como um todo, por isso é falso
                        </span>
                    </pre>
                </p>
        </div>
    </main>
    <footer>

    </footer>
</body>
</html>